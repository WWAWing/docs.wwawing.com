---toml
title = "マクロ | WWA Wing公式ドキュメント予定地"
lang = "ja"
---

# マクロのページ

::: warning
作成途中のドキュメントです。記載されている情報が必ずしも正しいとは限りません。
:::

## 目次
[[toc]]


## $map
```
$map = partsId, coordX, coordY [, partsType = 1]
```
- `partsId`: 出現させる物体パーツの番号 (`0`以上の整数値)
- `coordX`: 出現させるX座標 (`0`以上の整数値)
- `coordY`: 出現させるY座標 (`0`以上の整数値)
- `partsType`: `0`の場合、背景パーツの `partsId` 番を、 `1`の場合、物体パーツの `partsId` 番を表示させます。省略可能で、省略した場合は `1` が指定されたものとして扱われます。

### 概要
`$map` マクロは、引数で指定された位置への物体・背景パーツの出現を実行します。

WWA作成ツールの「指定位置にパーツを出現」ウィンドウと同様の処理を記述することができますが、このマクロを使用することで、1つのパーツ内で10個を超えるパーツの出現処理が実現できます。

マップサイズを超える場所への配置や、存在しないパーツの配置は無効となり、処理は実行されません。

::: tip
物体パーツが「存在しない」ということは、当該座標に物体パーツ 0番が配置されていることを意味します。したがって、物体パーツ 0番を配置することにより指定座標の物体パーツを消去することができます。
:::

### 使用例
```
$ 背景パーツ 1番を (X, Y) = (75, 93) に配置
$ map = 1, 75, 93, 0

$ 物体パーツ 157番を (X, Y) = (100, 100) に配置
$ map = 157, 100, 100, 1

$ 上のマクロは、最後の引数の「1」を省略して次のように書くこともできます。
$ map = 157, 100, 100

$ (X, Y) = (47,89) にある物体パーツを消去
$ map = 0, 47, 89, 1
```